{% extends 'layouts/default.twig' %}

{% block head %}

    <title>Top Rank</title>

{% endblock %}

{% block content %}

    {% set topList = [0, 2, 3, 5, 8, 10, 12, 13, 19, 36, 35, 33, 32, 31, 30, 42, 39, 38, 37, 54, 52, 61, 60, 57, 70, 69,
        68, 66, 80, 78, 77, 76, 75, 85, 84, 83, 97, 96, 91, 103, 120, 135, 129, 143, 139, 155, 154, 153, 149, 148,
        162, 165, 215, 214] %}

    <h2 class="container">
        <button type="button" onclick="displayWithList()" class="btn btn-white">
            <img src="open-iconic/svg/list.svg">
        </button>
        <button type="button" onclick="displayWithImages()" class="btn btn-white">
            <img src="open-iconic/svg/grid-three-up.svg">
        </button>
        Top {{ mangas|length }}</h2>

    <!-- ===== TABINFO LIST ===== -->

    <div id="tab-list" class="d-none">
        <div class="container">
            <table class="table">
                <thead>
                <tr>
                    <th scope="col" class="col-sm-1">#</th>
                    <th scope="col" class="col-sm-5">Title</th>
                    <th scope="col" class="col-sm-1">Total Saison</th>
                    <th scope="col" class="col-sm-1">Total Episodes</th>
                </tr>
                </thead>
                <tbody>

                {% for manga in mangas %}
                    <tr>
                        <th scope="row">{{ loop.index }}</th>
                        <td>{{ manga.title }}</td>
                        <td>{{ manga.total_saison }}</td>
                        <td>{{ manga.total_episodes }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ===== IMAGE LIST ===== -->

    <div id="images-list">
        {% for manga in mangas %}
            <a href="{{ manga.url }}">
                <img src="{{ manga.image }}" alt="200*300" style="width: 200px; height: 300px;"
                     class="img-thumbnail" title="{{ manga.title }}">
            </a>
        {% endfor %}
    </div>

    <script>
        function displayWithList() {
            document.querySelector('#tab-list').classList.remove("d-none");
            document.querySelector('#images-list').classList.add("d-none");
        }

        function displayWithImages() {
            document.querySelector('#images-list').classList.remove("d-none");
            document.querySelector('#tab-list').classList.add("d-none");
        }
    </script>
{% endblock %}